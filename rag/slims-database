Penjelasan Umum Database:

Database ini dirancang untuk sistem manajemen perpustakaan (SLiMS - Senayan Library Management System). Tujuannya adalah untuk mengelola berbagai aspek operasional perpustakaan, termasuk:

Katalog Bibliografi: Mencatat dan mengelola informasi detail tentang koleksi perpustakaan seperti buku, majalah, dan jenis materi lainnya.

Manajemen Item Koleksi: Melacak salinan fisik dari setiap judul bibliografi, termasuk kode item, lokasi, dan status.

Sirkulasi: Mengelola proses peminjaman dan pengembalian koleksi oleh anggota perpustakaan, termasuk aturan peminjaman dan denda.

Keanggotaan: Mengelola informasi anggota perpustakaan dan jenis keanggotaan.

Master File: Menyediakan data referensi yang digunakan di seluruh sistem, seperti daftar pengarang, penerbit, topik, jenis koleksi, dll.

Inventarisasi: Memudahkan proses stock opname atau inventarisasi koleksi.

Pelaporan: Menghasilkan berbagai laporan terkait koleksi, sirkulasi, dan keanggotaan.

Manajemen Terbitan Berseri: Mengelola langganan dan penerimaan terbitan berseri seperti majalah dan jurnal.

Sistem: Mengelola konfigurasi sistem, pengguna (pustakawan), dan backup database.

Detail Tabel dan Hubungannya

Berikut adalah penjelasan detail untuk setiap tabel dalam database, termasuk kolom, tipe data, dan hubungan antar tabel:

backup_log

Deskripsi: Mencatat log aktivitas backup database.

Kolom:

backup_log_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik untuk setiap log backup.

user_id (INT): ID pengguna yang melakukan backup. Terhubung dengan tabel user.

backup_time (DATETIME): Waktu backup dilakukan.

backup_file (TEXT): Nama file backup.

biblio

Deskripsi: Tabel inti yang menyimpan data bibliografi (informasi katalog) untuk setiap koleksi.

Kolom:

biblio_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik untuk setiap entri bibliografi.

gmd_id (INT): ID jenis bahan pustaka (General Material Designation). Terhubung dengan tabel mst_gmd.

title (TEXT): Judul koleksi.

sor (VARCHAR(200)): Pernyataan tanggung jawab (Statement of Responsibility - Pengarang, editor, dll.).

edition (VARCHAR(50)): Edisi koleksi.

isbn_issn (VARCHAR(32)): ISBN atau ISSN koleksi.

publisher_id (INT): ID penerbit. Terhubung dengan tabel mst_publisher.

publish_year (VARCHAR(20)): Tahun terbit.

collation (VARCHAR(100)): Kolasi (deskripsi fisik koleksi).

series_title (VARCHAR(200)): Judul seri.

call_number (VARCHAR(50)): Nomor panggil koleksi (klasifikasi).

language_id (CHAR(5), DEFAULT 'en'): ID bahasa. Terhubung dengan tabel mst_language.

source (VARCHAR(3)): Sumber koleksi.

publish_place_id (INT): ID tempat terbit. Terhubung dengan tabel mst_place.

classification (VARCHAR(40)): Klasifikasi koleksi.

notes (TEXT): Catatan tentang koleksi.

image (VARCHAR(100)): Nama file gambar sampul koleksi.

file_att (VARCHAR(255)): Nama file lampiran koleksi.

opac_hide (SMALLINT(1), DEFAULT '0'): Bendera untuk menyembunyikan koleksi dari OPAC (Online Public Access Catalog).

promoted (SMALLINT(1), DEFAULT '0'): Bendera untuk menandai koleksi sebagai unggulan.

labels (TEXT): Label-label yang terkait dengan koleksi (misalnya "Baru", "Favorit").

frequency_id (INT, DEFAULT '0'): ID frekuensi terbitan (untuk terbitan berseri). Terhubung dengan tabel mst_frequency.

spec_detail_info (TEXT): Informasi detail spesifik koleksi.

content_type_id (INT): ID tipe konten RDA (Resource Description and Access). Terhubung dengan tabel mst_content_type.

media_type_id (INT): ID tipe media RDA. Terhubung dengan tabel mst_media_type.

carrier_type_id (INT): ID tipe pembawa RDA. Terhubung dengan tabel mst_carrier_type.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

uid (INT): ID pengguna yang terakhir memperbarui data. Terhubung dengan tabel user.

Index dan Key:

PRIMARY KEY (biblio_id)

KEY references_idx (gmd_id, publisher_id, language_id, publish_place_id): Index untuk mempercepat pencarian berdasarkan ID GMD, Penerbit, Bahasa, dan Tempat Terbit.

KEY classification (classification): Index untuk mempercepat pencarian berdasarkan klasifikasi.

KEY biblio_flag_idx (opac_hide, promoted): Index untuk mempercepat pencarian berdasarkan status opac_hide dan promoted.

KEY rda_idx (content_type_id, media_type_id, carrier_type_id): Index untuk mempercepat pencarian berdasarkan elemen RDA.

KEY uid (uid): Index untuk mempercepat pencarian berdasarkan uid.

FULLTEXT KEY title_ft_idx (title, series_title): Fulltext index untuk pencarian cepat pada judul dan judul seri.

FULLTEXT KEY notes_ft_idx (notes): Fulltext index untuk pencarian cepat pada catatan.

FULLTEXT KEY labels (labels): Fulltext index untuk pencarian cepat pada label.

biblio_attachment

Deskripsi: Menghubungkan bibliografi dengan file lampiran (misalnya file digital, PDF).

Kolom:

biblio_id (INT): ID bibliografi. FOREIGN KEY ke tabel biblio.

file_id (INT): ID file. FOREIGN KEY ke tabel files.

placement (ENUM('link', 'popup', 'embed')): Cara file lampiran ditampilkan (link, popup, embed).

access_type (ENUM('public', 'private')): Jenis akses file (publik atau pribadi).

access_limit (TEXT): Batasan akses (jika ada, mungkin berdasarkan grup pengguna atau lainnya).

Index dan Key:

KEY biblio_id (biblio_id)

KEY file_id (file_id)

KEY biblio_id_2 (biblio_id, file_id)

biblio_author

Deskripsi: Tabel penghubung many-to-many antara tabel biblio dan mst_author. Menunjukkan pengarang dari suatu bibliografi.

Kolom:

biblio_id (INT): ID bibliografi. FOREIGN KEY ke tabel biblio.

author_id (INT): ID pengarang. FOREIGN KEY ke tabel mst_author.

level (INT(1), DEFAULT '1'): Tingkat kontribusi pengarang (misalnya pengarang utama, pengarang pendamping).

Index dan Key:

KEY biblio_id (biblio_id)

KEY author_id (author_id)

PRIMARY KEY (biblio_id, author_id) (Composite Primary Key)

biblio_topic

Deskripsi: Tabel penghubung many-to-many antara tabel biblio dan mst_topic. Menunjukkan topik/subjek dari suatu bibliografi.

Kolom:

biblio_id (INT): ID bibliografi. FOREIGN KEY ke tabel biblio.

topic_id (INT): ID topik. FOREIGN KEY ke tabel mst_topic.

level (INT(1), DEFAULT '1'): Tingkat relevansi topik.

Index dan Key:

KEY biblio_id (biblio_id)

KEY topic_id (topic_id)

PRIMARY KEY (biblio_id, topic_id) (Composite Primary Key)

content

Deskripsi: Menyimpan konten halaman statis atau berita yang ditampilkan di website perpustakaan (misalnya informasi perpustakaan, bantuan penggunaan, dll.).

Kolom:

content_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik konten.

content_title (VARCHAR(255)): Judul konten.

content_desc (TEXT): Deskripsi atau isi konten (bisa berupa HTML).

content_path (VARCHAR(20)): Path URL untuk mengakses konten. Harus unik.

is_news (SMALLINT(1), NULL DEFAULT NULL): Bendera untuk menandai konten sebagai berita.

is_draft (SMALLINT(1), DEFAULT 0): Bendera untuk menandai konten sebagai draft.

publish_date (DATE): Tanggal publikasi konten.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

content_ownpage (ENUM('1', '2'), DEFAULT '1'): Menentukan apakah konten ditampilkan di halaman sendiri atau tidak.

Index dan Key:

PRIMARY KEY (content_id)

UNIQUE KEY content_path (content_path): Memastikan content_path unik.

FULLTEXT KEY content_title (content_title): Fulltext index untuk pencarian cepat pada judul konten.

FULLTEXT KEY content_desc (content_desc): Fulltext index untuk pencarian cepat pada deskripsi konten.

files

Deskripsi: Mengelola file digital yang diunggah (misalnya untuk lampiran bibliografi, gambar, dll.).

Kolom:

file_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik file.

file_title (TEXT): Judul file.

file_name (TEXT): Nama file asli.

file_url (TEXT): URL file (jika file disimpan di lokasi eksternal).

file_dir (TEXT): Direktori penyimpanan file (jika file disimpan secara lokal).

mime_type (VARCHAR(100)): Tipe MIME file.

file_desc (TEXT): Deskripsi file.

file_key (TEXT): Kata kunci terkait file.

uploader_id (INT): ID pengguna yang mengunggah file. Terhubung dengan tabel user.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (file_id)

FULLTEXT KEY file_name (file_name): Fulltext index untuk pencarian cepat pada nama file.

FULLTEXT KEY file_dir (file_dir): Fulltext index untuk pencarian cepat pada direktori file.

fines

Deskripsi: Mencatat transaksi denda anggota perpustakaan.

Kolom:

fines_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik transaksi denda.

fines_date (DATE): Tanggal transaksi denda.

member_id (VARCHAR(20)): ID anggota. FOREIGN KEY ke tabel member.

debet (INT, DEFAULT '0'): Jumlah denda yang dikenakan (debit).

credit (INT, DEFAULT '0'): Jumlah denda yang dibayarkan (kredit).

description (VARCHAR(255)): Deskripsi transaksi denda.

Index dan Key:

PRIMARY KEY (fines_id)

KEY member_id (member_id)

group_access

Deskripsi: Mengatur hak akses pengguna (berdasarkan grup pengguna) ke berbagai modul dan menu dalam sistem.

Kolom:

group_id (INT): ID grup pengguna. FOREIGN KEY ke tabel user_group.

module_id (INT): ID modul sistem. FOREIGN KEY ke tabel mst_module.

menus (JSON): Data JSON yang menyimpan konfigurasi menu yang diakses oleh grup (detail menu yang diizinkan).

r (INT(1), DEFAULT '0'): Hak baca (read) untuk modul. (1 = diizinkan, 0 = tidak diizinkan).

w (INT(1), DEFAULT '0'): Hak tulis (write/edit) untuk modul. (1 = diizinkan, 0 = tidak diizinkan).

Index dan Key:

PRIMARY KEY (group_id, module_id) (Composite Primary Key)

holiday

Deskripsi: Daftar hari libur perpustakaan. Digunakan untuk perhitungan tanggal jatuh tempo pinjaman dan denda.

Kolom:

holiday_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik hari libur.

holiday_dayname (VARCHAR(20)): Nama hari libur (misalnya "Natal", "Idul Fitri").

holiday_date (DATE): Tanggal hari libur.

description (VARCHAR(100)): Deskripsi hari libur.

Index dan Key:

PRIMARY KEY (holiday_id)

UNIQUE KEY holiday_dayname (holiday_dayname, holiday_date): Memastikan kombinasi nama hari libur dan tanggal unik.

item

Deskripsi: Menyimpan data item koleksi (salinan fisik) dari suatu judul bibliografi. Setiap baris mewakili satu salinan buku, majalah, dll.

Kolom:

item_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik item.

biblio_id (INT): ID bibliografi terkait. FOREIGN KEY ke tabel biblio.

call_number (VARCHAR(50)): Nomor panggil item (jika berbeda dari bibliografi).

coll_type_id (INT(3)): ID jenis koleksi (collection type). Terhubung dengan tabel mst_coll_type.

item_code (VARCHAR(20)): Kode item unik (barcode atau kode inventaris). Harus unik.

inventory_code (VARCHAR(200)): Kode inventaris (mungkin lebih panjang atau format berbeda dari item_code).

received_date (DATE): Tanggal diterima (tanggal item masuk inventaris).

supplier_id (VARCHAR(6)): ID pemasok. Terhubung dengan tabel mst_supplier.

order_no (VARCHAR(20)): Nomor pesanan.

location_id (VARCHAR(3)): ID lokasi penyimpanan. Terhubung dengan tabel mst_location.

order_date (DATE): Tanggal pemesanan.

item_status_id (CHAR(3)): ID status item (misalnya "Tersedia", "Dipinjam", "Rusak"). Terhubung dengan tabel mst_item_status.

site (VARCHAR(50)): Lokasi fisik spesifik (misalnya rak, lemari).

source (INT(1), DEFAULT '0'): Sumber item (misalnya pembelian, hadiah).

invoice (VARCHAR(20)): Nomor faktur pembelian.

price (INT): Harga item.

price_currency (VARCHAR(10)): Mata uang harga.

invoice_date (DATE): Tanggal faktur.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

uid (INT): ID pengguna yang terakhir memperbarui data. Terhubung dengan tabel user.

Index dan Key:

PRIMARY KEY (item_id)

UNIQUE KEY item_code (item_code): Memastikan item_code unik.

KEY uid (uid)

KEY item_references_idx (coll_type_id, location_id, item_status_id): Index untuk mempercepat pencarian berdasarkan jenis koleksi, lokasi, dan status item.

KEY biblio_id_idx (biblio_id): Index untuk mempercepat pencarian berdasarkan biblio_id.

kardex

Deskripsi: Mengelola kardeks untuk terbitan berseri. Mencatat perkiraan dan penerimaan setiap edisi terbitan berseri.

Kolom:

kardex_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik entri kardeks.

date_expected (DATE): Tanggal perkiraan terbitan diterima.

date_received (DATE): Tanggal terbitan sebenarnya diterima.

seq_number (VARCHAR(25)): Nomor urut atau identifikasi edisi terbitan.

notes (TEXT): Catatan tentang edisi terbitan.

serial_id (INT): ID langganan terbitan berseri. FOREIGN KEY ke tabel serial.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (kardex_id)

KEY fk_serial (serial_id)

loan

Deskripsi: Mencatat transaksi peminjaman dan pengembalian item koleksi.

Kolom:

loan_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik transaksi peminjaman.

item_code (VARCHAR(20)): Kode item yang dipinjam. FOREIGN KEY ke tabel item.

member_id (VARCHAR(20)): ID anggota yang meminjam. FOREIGN KEY ke tabel member.

loan_date (DATE): Tanggal peminjaman.

due_date (DATE): Tanggal jatuh tempo pengembalian.

renewed (INT, DEFAULT '0'): Jumlah perpanjangan pinjaman.

loan_rules_id (INT, DEFAULT '0'): ID aturan peminjaman yang berlaku. Terhubung dengan tabel mst_loan_rules.

actual (DATE): Tanggal pengembalian aktual (jika sudah dikembalikan).

is_lent (INT, DEFAULT '0'): Bendera status peminjaman (1 = sedang dipinjam, 0 = tidak).

is_return (INT, DEFAULT '0'): Bendera status pengembalian (1 = sudah dikembalikan, 0 = belum).

return_date (DATE): Tanggal pengembalian (dicatat saat pengembalian).

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

uid (INT): ID pengguna yang terakhir memperbarui data. Terhubung dengan tabel user.

Index dan Key:

PRIMARY KEY (loan_id)

KEY item_code (item_code)

KEY member_id (member_id)

KEY input_date (input_date, last_update, uid)

member

Deskripsi: Menyimpan informasi anggota perpustakaan.

Kolom:

member_id (VARCHAR(20), PRIMARY KEY): ID anggota unik (bisa berupa nomor anggota, kartu identitas, dll.).

member_name (VARCHAR(100)): Nama lengkap anggota.

gender (INT(1)): Jenis kelamin anggota (misalnya 1=Pria, 2=Wanita).

birth_date (DATE): Tanggal lahir anggota.

member_type_id (INT(6)): ID jenis keanggotaan. Terhubung dengan tabel mst_member_type.

member_address (VARCHAR(255)): Alamat anggota.

member_mail_address (VARCHAR(255)): Alamat surat anggota.

member_email (VARCHAR(100)): Alamat email anggota.

postal_code (VARCHAR(20)): Kode pos anggota.

inst_name (VARCHAR(100)): Nama institusi/lembaga anggota (jika ada).

is_new (INT(1), NULL DEFAULT NULL): Bendera untuk menandai anggota baru.

member_image (VARCHAR(200)): Nama file foto anggota.

pin (VARCHAR(50)): PIN untuk akses mandiri anggota (misalnya untuk OPAC).

member_phone (VARCHAR(50)): Nomor telepon anggota.

member_fax (VARCHAR(50)): Nomor fax anggota.

member_since_date (DATE): Tanggal menjadi anggota.

register_date (DATE): Tanggal pendaftaran anggota.

expire_date (DATE): Tanggal kadaluarsa keanggotaan.

member_notes (TEXT): Catatan tentang anggota.

is_pending (SMALLINT(1), DEFAULT '0'): Bendera untuk menandai anggota dalam status pending (belum aktif).

mpasswd (VARCHAR(64)): Kata sandi anggota (untuk akses sistem jika diperlukan).

last_login (DATETIME): Waktu login terakhir anggota.

last_login_ip (VARCHAR(20)): IP address login terakhir anggota.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (member_id)

KEY member_name (member_name): Index untuk pencarian cepat berdasarkan nama anggota.

KEY member_type_id (member_type_id): Index untuk pencarian cepat berdasarkan jenis keanggotaan.

mst_author

Deskripsi: Daftar master pengarang (authors). Digunakan untuk standarisasi nama pengarang.

Kolom:

author_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik pengarang.

author_name (VARCHAR(100)): Nama pengarang. Harus unik untuk setiap authority_type.

author_year (VARCHAR(20)): Tahun lahir/aktif pengarang.

authority_type (ENUM('p', 'o', 'c'), DEFAULT 'p'): Jenis otoritas pengarang (p=Person, o=Organization, c=Conference/Meeting).

auth_list (VARCHAR(20)): Kode daftar otoritas (jika menggunakan daftar otoritas eksternal).

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (author_id)

UNIQUE KEY author_name (author_name, authority_type): Memastikan kombinasi nama dan jenis otoritas pengarang unik.

mst_coll_type

Deskripsi: Daftar master jenis koleksi (collection types) seperti "Buku Referensi", "Fiksi", "Teksbook".

Kolom:

coll_type_id (INT(3), PRIMARY KEY, AUTO_INCREMENT): ID unik jenis koleksi.

coll_type_name (VARCHAR(30)): Nama jenis koleksi. Harus unik.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (coll_type_id)

UNIQUE KEY coll_type_name (coll_type_name): Memastikan nama jenis koleksi unik.

mst_frequency

Deskripsi: Daftar master frekuensi terbitan (untuk terbitan berseri) seperti "Bulanan", "Mingguan", "Tahunan".

Kolom:

frequency_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik frekuensi.

frequency (VARCHAR(25)): Nama frekuensi (misalnya "Bulanan"). Harus unik.

language_prefix (VARCHAR(5)): Awalan bahasa (misalnya "en" untuk bahasa Inggris).

time_increment (SMALLINT(6)): Interval waktu frekuensi (misalnya 1 untuk bulanan, 7 untuk mingguan).

time_unit (ENUM('day', 'week', 'month', 'year'), DEFAULT 'day'): Satuan waktu interval (hari, minggu, bulan, tahun).

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (frequency_id)

mst_gmd

Deskripsi: Daftar master jenis bahan pustaka (General Material Designation - GMD) seperti "Teks", "Video", "Peta".

Kolom:

gmd_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik GMD.

gmd_code (VARCHAR(3)): Kode GMD (misalnya "TE" untuk Teks). Harus unik.

gmd_name (VARCHAR(30)): Nama GMD (misalnya "Teks"). Harus unik.

icon_image (VARCHAR(100)): Nama file gambar icon GMD.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (gmd_id)

UNIQUE KEY gmd_name (gmd_name): Memastikan nama GMD unik.

UNIQUE KEY gmd_code (gmd_code): Memastikan kode GMD unik.

mst_item_status

Deskripsi: Daftar master status item koleksi seperti "Tersedia", "Dipinjam", "Rusak", "Hilang".

Kolom:

item_status_id (CHAR(3), PRIMARY KEY): ID status item (kode status). Harus unik.

item_status_name (VARCHAR(30)): Nama status item (misalnya "Tersedia"). Harus unik.

rules (VARCHAR(255)): Aturan terkait status item (misalnya aturan peminjaman). Mungkin dalam format serialized array PHP.

no_loan (SMALLINT(1), DEFAULT '0'): Bendera untuk menandai item dengan status ini tidak boleh dipinjam.

skip_stock_take (SMALLINT(1), DEFAULT '0'): Bendera untuk menandai item dengan status ini diabaikan saat stock opname.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (item_status_id)

UNIQUE KEY item_status_name (item_status_name): Memastikan nama status item unik.

mst_label

Deskripsi: Daftar master label koleksi (misalnya "Baru", "Favorit", "Multimedia"). Digunakan untuk menandai koleksi dengan label tertentu.

Kolom:

label_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik label.

label_name (VARCHAR(20)): Nama label (misalnya "label-new"). Harus unik.

label_desc (VARCHAR(50)): Deskripsi label (misalnya "Judul Baru").

label_image (VARCHAR(200)): Nama file gambar label.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (label_id)

UNIQUE KEY label_name (label_name): Memastikan nama label unik.

mst_language

Deskripsi: Daftar master bahasa.

Kolom:

language_id (CHAR(5), PRIMARY KEY): ID bahasa (kode bahasa ISO, misalnya "id", "en"). Harus unik.

language_name (VARCHAR(20)): Nama bahasa (misalnya "Indonesia", "English"). Harus unik.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (language_id)

UNIQUE KEY language_name (language_name): Memastikan nama bahasa unik.

mst_loan_rules

Deskripsi: Aturan peminjaman yang fleksibel. Menentukan batasan peminjaman, periode pinjam, denda, dll. berdasarkan kombinasi jenis anggota, jenis koleksi, dan GMD.

Kolom:

loan_rules_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik aturan peminjaman.

member_type_id (INT, DEFAULT '0'): ID jenis keanggotaan yang aturan ini berlaku. Terhubung dengan tabel mst_member_type.

coll_type_id (INT, DEFAULT '0'): ID jenis koleksi yang aturan ini berlaku. Terhubung dengan tabel mst_coll_type.

gmd_id (INT, DEFAULT '0'): ID GMD yang aturan ini berlaku. Terhubung dengan tabel mst_gmd.

loan_limit (INT(3), DEFAULT '0'): Batas jumlah item yang boleh dipinjam.

loan_periode (INT(3), DEFAULT '0'): Periode pinjam (dalam hari, minggu, atau bulan - satuan waktu implisit dari sistem).

reborrow_limit (INT(3), DEFAULT '0'): Batas perpanjangan pinjaman.

fine_each_day (INT(3), DEFAULT '0'): Denda per hari keterlambatan.

grace_periode (INT(2), DEFAULT '0'): Masa tenggang sebelum denda berlaku.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (loan_rules_id)

mst_location

Deskripsi: Daftar master lokasi penyimpanan koleksi (misalnya "Rak Referensi", "Ruang Baca").

Kolom:

location_id (VARCHAR(3), PRIMARY KEY): ID lokasi (kode lokasi). Harus unik.

location_name (VARCHAR(100)): Nama lokasi. Harus unik.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (location_id)

UNIQUE KEY location_name (location_name): Memastikan nama lokasi unik.

mst_member_type

Deskripsi: Daftar master jenis keanggotaan (member types) seperti "Mahasiswa", "Dosen", "Umum". Menentukan aturan peminjaman default untuk setiap jenis anggota.

Kolom:

member_type_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik jenis keanggotaan.

member_type_name (VARCHAR(50)): Nama jenis keanggotaan (misalnya "Mahasiswa"). Harus unik.

loan_limit (INT): Batas jumlah item yang boleh dipinjam untuk jenis anggota ini.

loan_periode (INT): Periode pinjam default (dalam hari).

enable_reserve (INT(1), DEFAULT '0'): Bendera untuk mengaktifkan fitur reservasi bagi jenis anggota ini.

reserve_limit (INT): Batas jumlah reservasi yang boleh dilakukan.

member_periode (INT): Masa berlaku keanggotaan (dalam hari).

reborrow_limit (INT): Batas perpanjangan pinjaman default.

fine_each_day (INT): Denda per hari keterlambatan default.

grace_periode (INT(2), DEFAULT '0'): Masa tenggang sebelum denda berlaku default.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (member_type_id)

UNIQUE KEY member_type_name (member_type_name): Memastikan nama jenis keanggotaan unik.

mst_module

Deskripsi: Daftar master modul sistem (misalnya "Bibliografi", "Sirkulasi", "Keanggotaan").

Kolom:

module_id (INT(3), PRIMARY KEY, AUTO_INCREMENT): ID unik modul.

module_name (VARCHAR(50)): Nama modul (misalnya "bibliography"). Harus unik dalam kombinasi dengan module_path.

module_path (VARCHAR(200)): Path modul (digunakan untuk URL atau routing). Harus unik dalam kombinasi dengan module_name.

module_desc (VARCHAR(255)): Deskripsi modul.

Index dan Key:

PRIMARY KEY (module_id)

UNIQUE KEY module_name (module_name, module_path): Memastikan kombinasi nama dan path modul unik.

mst_place

Deskripsi: Daftar master tempat terbit (misalnya "Jakarta", "Bandung", "New York").

Kolom:

place_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik tempat terbit.

place_name (VARCHAR(30)): Nama tempat terbit. Harus unik.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (place_id)

UNIQUE KEY place_name (place_name): Memastikan nama tempat terbit unik.

mst_publisher

Deskripsi: Daftar master penerbit (publishers).

Kolom:

publisher_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik penerbit.

publisher_name (VARCHAR(100)): Nama penerbit. Harus unik.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (publisher_id)

UNIQUE KEY publisher_name (publisher_name): Memastikan nama penerbit unik.

mst_supplier

Deskripsi: Daftar master pemasok (suppliers) koleksi perpustakaan.

Kolom:

supplier_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik pemasok.

supplier_name (VARCHAR(100)): Nama pemasok. Harus unik.

address (VARCHAR(100)): Alamat pemasok.

postal_code (CHAR(10)): Kode pos pemasok.

phone (CHAR(14)): Nomor telepon pemasok.

contact (CHAR(30)): Nama kontak pemasok.

fax (CHAR(14)): Nomor fax pemasok.

account (CHAR(12)): Nomor rekening pemasok.

e_mail (CHAR(80)): Alamat email pemasok.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (supplier_id)

UNIQUE KEY supplier_name (supplier_name): Memastikan nama pemasok unik.

mst_topic

Deskripsi: Daftar master topik/subjek (topics). Digunakan untuk pengindeksan subjek koleksi.

Kolom:

topic_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik topik.

topic (VARCHAR(50)): Nama topik. Harus unik untuk setiap topic_type.

topic_type (ENUM('t', 'g', 'n', 'tm', 'gr', 'oc')): Jenis topik (t=topic, g=geographic, n=name, tm=time period, gr=genre, oc=occupation).

auth_list (VARCHAR(20)): Kode daftar otoritas topik (jika menggunakan daftar otoritas eksternal).

classification (VARCHAR(50)): Kode klasifikasi topik.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (topic_id)

UNIQUE KEY topic (topic, topic_type): Memastikan kombinasi nama topik dan jenis topik unik.

reserve

Deskripsi: Mengelola reservasi koleksi oleh anggota.

Kolom:

reserve_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik reservasi.

member_id (VARCHAR(20)): ID anggota yang melakukan reservasi. FOREIGN KEY ke tabel member.

biblio_id (INT): ID bibliografi yang direservasi. FOREIGN KEY ke tabel biblio.

item_code (VARCHAR(20)): Kode item spesifik yang direservasi (opsional, bisa reservasi judul secara umum). FOREIGN KEY ke tabel item.

reserve_date (DATETIME): Tanggal dan waktu reservasi dilakukan.

Index dan Key:

PRIMARY KEY (reserve_id)

KEY references_idx (member_id, biblio_id)

KEY item_code_idx (item_code)

serial

Deskripsi: Mengelola data langganan terbitan berseri (majalah, jurnal, dll.).

Kolom:

serial_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik langganan terbitan berseri.

date_start (DATE): Tanggal mulai berlangganan.

date_end (DATE): Tanggal berakhir langganan (opsional).

period (VARCHAR(100)): Periode langganan (misalnya "1 tahun", "2 tahun").

notes (TEXT): Catatan tentang langganan.

biblio_id (INT): ID bibliografi induk untuk terbitan berseri (misalnya judul majalah utama). FOREIGN KEY ke tabel biblio.

gmd_id (INT): ID GMD terbitan berseri. FOREIGN KEY ke tabel mst_gmd.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (serial_id)

KEY fk_serial_biblio (biblio_id)

KEY fk_serial_gmd (gmd_id)

setting

Deskripsi: Menyimpan konfigurasi sistem secara umum.

Kolom:

setting_id (INT(3), PRIMARY KEY, AUTO_INCREMENT): ID unik setting.

setting_name (VARCHAR(30)): Nama setting (misalnya "library_name", "template"). Harus unik.

setting_value (TEXT): Nilai setting (bisa berupa string, serialized array PHP, dll.).

Index dan Key:

PRIMARY KEY (setting_id)

UNIQUE KEY setting_name (setting_name): Memastikan nama setting unik.

stock_take

Deskripsi: Mengelola proses stock opname (inventarisasi koleksi).

Kolom:

stock_take_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik sesi stock opname.

stock_take_name (VARCHAR(200)): Nama sesi stock opname.

start_date (DATETIME): Tanggal dan waktu mulai stock opname.

end_date (DATETIME): Tanggal dan waktu selesai stock opname (opsional).

init_user (VARCHAR(50)): Nama pengguna yang memulai stock opname.

total_item_stock_taked (INT): Total item yang sudah di-stock opname.

total_item_lost (INT): Total item yang dinyatakan hilang.

total_item_exists (INT, DEFAULT '0'): Total item yang ditemukan ada.

total_item_loan (INT): Total item yang sedang dipinjam saat stock opname.

stock_take_users (MEDIUMTEXT): Daftar pengguna yang terlibat dalam stock opname (mungkin serialized array PHP).

is_active (INT(1), DEFAULT '0'): Bendera untuk menandai sesi stock opname aktif.

report_file (VARCHAR(255)): Nama file laporan stock opname yang dihasilkan.

Index dan Key:

PRIMARY KEY (stock_take_id)

stock_take_item

Deskripsi: Detail item yang di-stock opname dalam suatu sesi stock opname.

Kolom:

stock_take_id (INT): ID sesi stock opname. FOREIGN KEY ke tabel stock_take.

item_id (INT): ID item yang di-stock opname. FOREIGN KEY ke tabel item.

item_code (VARCHAR(20)): Kode item yang di-stock opname.

title (VARCHAR(255)): Judul item (diambil dari bibliografi).

gmd_name (VARCHAR(30)): Nama GMD item (diambil dari bibliografi).

classification (VARCHAR(30)): Klasifikasi item (diambil dari bibliografi atau item).

coll_type_name (VARCHAR(30)): Nama jenis koleksi item (diambil dari item).

call_number (VARCHAR(50)): Nomor panggil item (diambil dari bibliografi atau item).

location (VARCHAR(100)): Lokasi item (diambil dari item).

status (ENUM('e', 'm', 'u', 'l'), DEFAULT 'm'): Status item saat stock opname (e=exists, m=missing, u=unknown, l=loaned).

checked_by (VARCHAR(50)): Nama pengguna yang memeriksa item saat stock opname.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (stock_take_id, item_id) (Composite Primary Key)

UNIQUE KEY item_code (item_code): Memastikan item_code unik dalam tabel ini.

KEY status (status): Index untuk mempercepat pencarian berdasarkan status stock opname item.

KEY item_properties_idx (gmd_name, classification, coll_type_name, location): Index untuk mempercepat pencarian berdasarkan properti item.

system_log

Deskripsi: Mencatat log aktivitas sistem (misalnya login pengguna, perubahan data, kesalahan sistem).

Kolom:

log_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik log.

log_type (ENUM('staff', 'member', 'system'), DEFAULT 'staff'): Jenis log (staff/pustakawan, member/anggota, sistem).

id (VARCHAR(50)): ID pengguna atau entitas yang terkait dengan log (misalnya user_id atau member_id).

log_location (VARCHAR(50)): Lokasi dalam sistem tempat log dicatat (misalnya nama modul, fungsi).

sub_module (VARCHAR(50)): Sub-modul atau bagian lebih spesifik dari lokasi log.

action (VARCHAR(50)): Aksi yang dilakukan (misalnya "login", "create", "update", "delete").

log_msg (TEXT): Pesan log detail.

log_date (DATETIME): Tanggal dan waktu log dicatat.

Index dan Key:

PRIMARY KEY (log_id)

KEY log_type (log_type)

KEY id (id)

user

Deskripsi: Menyimpan informasi pengguna sistem (pustakawan/staff perpustakaan).

Kolom:

user_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik pengguna.

username (VARCHAR(50)): Username untuk login. Harus unik.

realname (VARCHAR(100)): Nama lengkap pengguna.

passwd (VARCHAR(64)): Kata sandi pengguna (dalam format hash).

2fa (TEXT): Konfigurasi Two-Factor Authentication (2FA).

email (VARCHAR(200)): Alamat email pengguna.

user_type (SMALLINT(2)): Jenis pengguna (misalnya administrator, pustakawan).

user_image (VARCHAR(250)): Nama file foto pengguna.

social_media (TEXT): Informasi akun media sosial pengguna (mungkin JSON atau serialized array).

last_login (DATETIME): Waktu login terakhir pengguna.

last_login_ip (CHAR(15)): IP address login terakhir pengguna.

groups (VARCHAR(200)): Grup pengguna tempat pengguna tergabung (mungkin serialized array PHP). Terhubung dengan tabel user_group.

admin_template (TEXT): Template admin yang digunakan pengguna (jika ada preferensi khusus).

forgot (VARCHAR(80)): Token untuk fitur lupa kata sandi.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (user_id)

UNIQUE KEY username (username): Memastikan username unik.

KEY realname (realname): Index untuk pencarian cepat berdasarkan nama pengguna.

user_group

Deskripsi: Daftar grup pengguna (user groups) untuk mengelola hak akses (misalnya "Administrator", "Pustakawan Sirkulasi", "Pustakawan Katalog").

Kolom:

group_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik grup pengguna.

group_name (VARCHAR(30)): Nama grup pengguna (misalnya "Administrator"). Harus unik.

input_date (DATE): Tanggal input data.

last_update (DATE): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (group_id)

UNIQUE KEY group_name (group_name): Memastikan nama grup pengguna unik.

visitor_count

Deskripsi: Mencatat data pengunjung perpustakaan (check-in).

Kolom:

visitor_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik kunjungan.

member_id (VARCHAR(20)): ID anggota yang berkunjung (jika anggota). FOREIGN KEY ke tabel member.

member_name (VARCHAR(255)): Nama pengunjung (jika bukan anggota).

institution (VARCHAR(100)): Institusi/lembaga pengunjung (jika bukan anggota).

room_code (VARCHAR(5)): Kode ruangan yang dikunjungi. Terhubung dengan tabel mst_visitor_room.

checkin_date (DATETIME): Tanggal dan waktu check-in pengunjung.

Index dan Key:

PRIMARY KEY (visitor_id)

KEY member_id (member_id)

KEY room_code (room_code)

biblio_custom

Deskripsi: Tabel untuk menyimpan kolom kustom/tambahan untuk data bibliografi. Memiliki relasi one-to-one dengan tabel biblio.

Kolom:

biblio_id (INT, PRIMARY KEY): ID bibliografi. FOREIGN KEY ke tabel biblio.

(Kolom kustom tambahan akan ditambahkan di sini berdasarkan konfigurasi)

Index dan Key:

PRIMARY KEY (biblio_id)

search_biblio

Deskripsi: Tabel indexed untuk pencarian cepat bibliografi. Berisi data yang didenormalisasi dari tabel biblio dan tabel terkait untuk mempercepat pencarian.

Kolom:

biblio_id (INT, UNIQUE KEY): ID bibliografi. FOREIGN KEY ke tabel biblio.

title (TEXT): Judul koleksi.

edition (VARCHAR(50)): Edisi koleksi.

isbn_issn (VARCHAR(32)): ISBN/ISSN.

author (TEXT): Nama pengarang (dari tabel mst_author).

topic (TEXT): Topik koleksi (dari tabel mst_topic).

gmd (VARCHAR(30)): Nama GMD (dari tabel mst_gmd).

publisher (VARCHAR(100)): Nama penerbit (dari tabel mst_publisher).

publish_place (VARCHAR(30)): Nama tempat terbit (dari tabel mst_place).

language (VARCHAR(20)): Nama bahasa (dari tabel mst_language).

classification (VARCHAR(40)): Klasifikasi.

spec_detail_info (TEXT): Informasi detail spesifik.

carrier_type (VARCHAR(100)): Tipe pembawa RDA (dari tabel mst_carrier_type).

content_type (VARCHAR(100)): Tipe konten RDA (dari tabel mst_content_type).

media_type (VARCHAR(100)): Tipe media RDA (dari tabel mst_media_type).

location (TEXT): Lokasi penyimpanan (dari tabel mst_location).

publish_year (VARCHAR(20)): Tahun terbit.

notes (TEXT): Catatan.

series_title (TEXT): Judul seri.

items (TEXT): Informasi item (mungkin serialized array atau JSON).

collection_types (TEXT): Jenis koleksi (mungkin serialized array atau JSON).

call_number (VARCHAR(50)): Nomor panggil.

opac_hide (SMALLINT(1), DEFAULT '0'): Status opac_hide.

promoted (SMALLINT(1), DEFAULT '0'): Status promoted.

labels (TEXT): Label koleksi.

collation (VARCHAR(100)): Kolasi.

image (VARCHAR(100)): Nama file gambar sampul.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

UNIQUE KEY biblio_id (biblio_id)

KEY add_indexes (gmd, publisher, publish_place, language, classification, publish_year, call_number): Index untuk mempercepat pencarian berdasarkan properti bibliografi.

KEY add_indexes2 (opac_hide, promoted): Index untuk mempercepat pencarian berdasarkan opac_hide dan promoted.

KEY rda_indexes (carrier_type, media_type, content_type): Index untuk mempercepat pencarian berdasarkan elemen RDA.

FULLTEXT KEY title (title, series_title): Fulltext index untuk pencarian cepat pada judul dan judul seri.

FULLTEXT KEY author (author): Fulltext index untuk pencarian cepat pada pengarang.

FULLTEXT KEY topic (topic): Fulltext index untuk pencarian cepat pada topik.

FULLTEXT KEY location (location): Fulltext index untuk pencarian cepat pada lokasi.

FULLTEXT KEY items (items): Fulltext index untuk pencarian cepat pada informasi item.

FULLTEXT KEY collection_types (collection_types): Fulltext index untuk pencarian cepat pada jenis koleksi.

FULLTEXT KEY labels (labels): Fulltext index untuk pencarian cepat pada label.

member_custom

Deskripsi: Tabel untuk menyimpan kolom kustom/tambahan untuk data anggota. Memiliki relasi one-to-one dengan tabel member.

Kolom:

member_id (VARCHAR(20), PRIMARY KEY): ID anggota. FOREIGN KEY ke tabel member.

(Kolom kustom tambahan akan ditambahkan di sini berdasarkan konfigurasi)

Index dan Key:

PRIMARY KEY (member_id)

comment

Deskripsi: Menyimpan komentar anggota terhadap koleksi bibliografi.

Kolom:

comment_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik komentar.

biblio_id (INT): ID bibliografi yang dikomentari. FOREIGN KEY ke tabel biblio.

member_id (VARCHAR(20)): ID anggota yang memberikan komentar. FOREIGN KEY ke tabel member.

comment (TEXT): Isi komentar.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (comment_id)

mst_carrier_type

Deskripsi: Daftar master tipe pembawa RDA (Resource Description and Access).

Kolom:

id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik tipe pembawa.

carrier_type (VARCHAR(100)): Nama tipe pembawa. Harus unik.

code (VARCHAR(5)): Kode tipe pembawa.

code2 (CHAR(1)): Kode alternatif tipe pembawa.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (id)

UNIQUE KEY media_type (carrier_type): Memastikan nama tipe pembawa unik.

KEY code (code)

mst_content_type

Deskripsi: Daftar master tipe konten RDA.

Kolom:

id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik tipe konten.

content_type (VARCHAR(100)): Nama tipe konten. Harus unik.

code (VARCHAR(5)): Kode tipe konten.

code2 (CHAR(1)): Kode alternatif tipe konten.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (id)

UNIQUE KEY content_type (content_type): Memastikan nama tipe konten unik.

KEY code (code)

mst_media_type

Deskripsi: Daftar master tipe media RDA.

Kolom:

id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik tipe media.

media_type (VARCHAR(100)): Nama tipe media. Harus unik.

code (VARCHAR(5)): Kode tipe media.

code2 (CHAR(1)): Kode alternatif tipe media.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (id)

UNIQUE KEY media_type (media_type): Memastikan nama tipe media unik.

KEY code (code)

mst_relation_term

Deskripsi: Daftar master istilah relasi untuk tesaurus/vocabolary control.

Kolom:

ID (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik istilah relasi.

rt_id (VARCHAR(11)): Kode istilah relasi (misalnya "RT", "BT", "NT").

rt_desc (VARCHAR(50)): Deskripsi istilah relasi (misalnya "Related Term", "Broader Term", "Narrower Term").

Index dan Key:

PRIMARY KEY (ID)

mst_voc_ctrl

Deskripsi: Mengelola vocabulary control (tesaurus) dengan menghubungkan topik dengan istilah relasi dan topik terkait.

Kolom:

vocabolary_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik entri vocabulary control.

topic_id (INT): ID topik utama. FOREIGN KEY ke tabel mst_topic.

rt_id (VARCHAR(11)): Kode istilah relasi (dari tabel mst_relation_term).

related_topic_id (VARCHAR(250)): ID topik terkait (bisa daftar ID topik dipisahkan koma). FOREIGN KEY ke tabel mst_topic.

scope (TEXT): Catatan lingkup atau definisi hubungan.

Index dan Key:

PRIMARY KEY (vocabolary_id)

biblio_relation

Deskripsi: Menghubungkan bibliografi dengan bibliografi lain yang terkait (misalnya "sekuel", "prekuel", "terjemahan").

Kolom:

biblio_id (INT, PRIMARY KEY): ID bibliografi utama. FOREIGN KEY ke tabel biblio.

rel_biblio_id (INT, PRIMARY KEY): ID bibliografi terkait. FOREIGN KEY ke tabel biblio.

rel_type (INT(1), DEFAULT '1'): Jenis relasi (misalnya 1=Related, 2=Sequel, 3=Prequel, dll. - jenis relasi perlu didefinisikan lebih lanjut).

Index dan Key:

PRIMARY KEY (biblio_id, rel_biblio_id) (Composite Primary Key)

mst_servers

Deskripsi: Daftar server eksternal (misalnya server Z39.50, server P2P) untuk pencarian katalog eksternal.

Kolom:

server_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik server.

name (VARCHAR(255)): Nama server.

uri (TEXT): URI/URL server.

server_type (TINYINT(1), DEFAULT '1'): Jenis server (1=P2P, 2=Z39.50, 3=Z39.50 SRU).

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (server_id)

biblio_log

Deskripsi: Mencatat log perubahan data bibliografi.

Kolom:

biblio_log_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik log bibliografi.

biblio_id (INT): ID bibliografi yang diubah. FOREIGN KEY ke tabel biblio.

user_id (INT): ID pengguna yang melakukan perubahan. FOREIGN KEY ke tabel user.

realname (VARCHAR(100)): Nama lengkap pengguna yang melakukan perubahan.

title (TEXT): Judul bibliografi (saat perubahan).

ip (VARCHAR(200)): IP address pengguna yang melakukan perubahan.

action (VARCHAR(50)): Jenis aksi (misalnya "CREATE", "UPDATE", "DELETE").

affectedrow (VARCHAR(50)): Jumlah baris yang terpengaruh.

rawdata (TEXT): Data mentah sebelum perubahan (mungkin serialized array atau JSON).

additional_information (TEXT): Informasi tambahan tentang perubahan.

date (DATETIME): Tanggal dan waktu perubahan.

Index dan Key:

PRIMARY KEY (biblio_log_id)

KEY realname (realname)

KEY biblio_id (biblio_id)

KEY user_id (user_id)

KEY ip (ip)

KEY action (action)

KEY affectedrow (affectedrow)

KEY date (date)

FULLTEXT KEY title (title): Fulltext index untuk pencarian cepat pada judul.

FULLTEXT KEY rawdata (rawdata): Fulltext index untuk pencarian cepat pada data mentah.

FULLTEXT KEY additional_information (additional_information): Fulltext index untuk pencarian cepat pada informasi tambahan.

loan_history

Deskripsi: Tabel untuk menyimpan history transaksi peminjaman. Data di tabel ini direplikasi dari tabel loan setiap ada perubahan (INSERT, UPDATE, DELETE) menggunakan TRIGGER. Ini berguna untuk pelaporan history peminjaman tanpa mengubah data loan yang aktif.

Kolom:

loan_id (INT, PRIMARY KEY): ID transaksi peminjaman (sama dengan loan.loan_id).

item_code (VARCHAR(20)): Kode item.

biblio_id (INT): ID bibliografi.

title (VARCHAR(300)): Judul koleksi.

call_number (VARCHAR(50)): Nomor panggil.

classification (VARCHAR(40)): Klasifikasi.

gmd_name (VARCHAR(30)): Nama GMD.

language_name (VARCHAR(20)): Nama bahasa.

location_name (VARCHAR(100)): Nama lokasi.

collection_type_name (VARCHAR(100)): Nama jenis koleksi.

member_id (VARCHAR(20)): ID anggota.

member_name (VARCHAR(100)): Nama anggota.

member_type_name (VARCHAR(64)): Nama jenis keanggotaan.

loan_date (DATE): Tanggal pinjam.

due_date (DATE): Tanggal jatuh tempo.

renewed (INT, DEFAULT '0'): Jumlah perpanjangan.

is_lent (INT, DEFAULT '0'): Status pinjam.

is_return (INT, DEFAULT '0'): Status kembali.

return_date (DATE): Tanggal kembali.

input_date (DATETIME): Tanggal input data.

last_update (DATETIME): Tanggal terakhir diperbarui.

Index dan Key:

PRIMARY KEY (loan_id)

KEY member_name (member_name): Index untuk pencarian cepat berdasarkan nama anggota.

mst_custom_field

Deskripsi: Mengelola field kustom/tambahan untuk tabel biblio dan member. Memungkinkan penambahan field data spesifik perpustakaan.

Kolom:

field_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik field kustom.

primary_table (VARCHAR(100)): Tabel utama yang terkait dengan field kustom ("biblio" atau "member").

dbfield (VARCHAR(50), UNIQUE KEY): Nama field di database (digunakan sebagai kolom di tabel biblio_custom atau member_custom). Harus unik.

label (VARCHAR(80)): Label field yang ditampilkan di UI.

type (ENUM('text', 'checklist', 'numeric', 'dropdown', 'longtext', 'choice', 'date')): Tipe field (untuk form input).

default (VARCHAR(80)): Nilai default field.

max (INT): Panjang maksimum field (untuk tipe text).

data (TEXT): Data tambahan untuk field (misalnya pilihan dropdown dalam format serialized array atau JSON).

indexed (TINYINT(1)): Bendera untuk menandai field sebagai terindeks (untuk pencarian).

class (VARCHAR(100)): CSS class untuk field (untuk styling).

is_public (TINYINT(1)): Bendera untuk menandai field sebagai publik (ditampilkan di OPAC).

width (INT(5), DEFAULT '100'): Lebar field (dalam persen).

note (TEXT): Catatan atau deskripsi field.

Index dan Key:

PRIMARY KEY (dbfield)

UNIQUE KEY field_id (field_id)

files_read

Deskripsi: Mencatat log pembacaan file digital (file yang dilampirkan pada bibliografi).

Kolom:

filelog_id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik log pembacaan file.

file_id (INT): ID file yang dibaca. FOREIGN KEY ke tabel files.

date_read (TIMESTAMP): Tanggal dan waktu file dibaca (timestamp otomatis).

member_id (VARCHAR(20)): ID anggota yang membaca file (jika anggota). FOREIGN KEY ke tabel member.

user_id (INT): ID pengguna (pustakawan) yang membaca file (jika pustakawan). FOREIGN KEY ke tabel user.

client_ip (VARCHAR(50)): IP address klien yang membaca file.

Index dan Key:

PRIMARY KEY (filelog_id)

plugins

Deskripsi: Mengelola plugin sistem SLiMS.

Kolom:

id (VARCHAR(32), PRIMARY KEY, UNIQUE KEY): ID plugin unik.

options (JSON): Opsi konfigurasi plugin (dalam format JSON).

path (TEXT): Path direktori plugin.

created_at (DATETIME): Tanggal dan waktu plugin diinstal.

updated_at (DATETIME): Tanggal dan waktu terakhir diperbarui.

deleted_at (DATETIME): Tanggal dan waktu plugin dihapus (untuk soft delete).

uid (INT): ID pengguna yang mengelola plugin. FOREIGN KEY ke tabel user.

Index dan Key:

PRIMARY KEY (id)

UNIQUE KEY id (id)

index_words

Deskripsi: Tabel untuk menyimpan daftar kata-kata yang diindeks untuk fulltext search.

Kolom:

id (BIGINT, PRIMARY KEY, AUTO_INCREMENT): ID unik kata.

word (VARCHAR(50)): Kata yang diindeks. Harus unik.

num_hits (INT): Total frekuensi kata muncul di seluruh dokumen yang diindeks.

doc_hits (INT): Jumlah dokumen yang mengandung kata tersebut.

Index dan Key:

PRIMARY KEY (id)

index_documents

Deskripsi: Tabel penghubung antara index_words dan dokumen (bibliografi) yang diindeks. Menyimpan informasi lokasi kata dalam dokumen.

Kolom:

document_id (INT): ID dokumen (dalam konteks ini, biblio_id). FOREIGN KEY ke tabel biblio.

word_id (BIGINT): ID kata yang diindeks. FOREIGN KEY ke tabel index_words.

location (VARCHAR(50)): Lokasi kata dalam dokumen (misalnya "title", "notes").

hit_count (INT): Frekuensi kata muncul dalam lokasi tertentu di dokumen.

Index dan Key:

PRIMARY KEY (document_id, word_id, location) (Composite Primary Key)

KEY document_id (document_id)

KEY word_id (word_id)

KEY location (location)

biblio_mark

Deskripsi: Tabel untuk menandai (bookmark) koleksi bibliografi oleh anggota.

Kolom:

id (VARCHAR(32), PRIMARY KEY, UNIQUE KEY): ID unik bookmark.

member_id (VARCHAR(20)): ID anggota yang menandai. FOREIGN KEY ke tabel member.

biblio_id (INT): ID bibliografi yang ditandai. FOREIGN KEY ke tabel biblio.

created_at (DATETIME, DEFAULT CURRENT_TIMESTAMP): Tanggal dan waktu bookmark dibuat.

Index dan Key:

PRIMARY KEY (id)

UNIQUE KEY id (id)

KEY member_id_idx (member_id)

KEY biblio_id_idx (biblio_id)

mst_visitor_room

Deskripsi: Daftar master ruangan yang dapat dikunjungi di perpustakaan (misalnya "Ruang Baca", "Ruang Koleksi Referensi"). Digunakan untuk pencatatan pengunjung.

Kolom:

id (INT, PRIMARY KEY, AUTO_INCREMENT): ID unik ruangan.

name (VARCHAR(50)): Nama ruangan.

unique_code (VARCHAR(5)): Kode unik ruangan (misalnya "RBACA"). Harus unik.

created_at (DATETIME): Tanggal dan waktu ruangan dibuat.

updated_at (DATETIME, DEFAULT CURRENT_TIMESTAMP): Tanggal dan waktu terakhir diperbarui.

Index dan Key:

PRIMARY KEY (id)

UNIQUE KEY unique_code_unq (unique_code): Memastikan kode ruangan unik.

KEY unique_code_idx (unique_code)

cache

Deskripsi: Tabel untuk menyimpan data cache (misalnya hasil query yang sering diakses) untuk meningkatkan performa sistem.

Kolom:

name (VARCHAR(64), UNIQUE KEY): Nama cache. Harus unik.

contents (TEXT): Isi data cache (bisa berupa string, serialized array PHP, JSON, dll.).

created_at (DATETIME): Tanggal dan waktu cache dibuat.

updated_at (DATETIME): Tanggal dan waktu terakhir diperbarui.

expired_at (DATETIME): Tanggal dan waktu cache kadaluarsa (opsional).

Index dan Key:

UNIQUE KEY name (name): Memastikan nama cache unik.

Triggers

delete_loan_history: Setelah baris dihapus dari tabel loan, trigger ini akan menghapus baris terkait di tabel loan_history berdasarkan loan_id.

update_loan_history: Setelah baris diupdate di tabel loan, trigger ini akan mengupdate baris terkait di tabel loan_history dengan nilai kolom is_lent, is_return, renewed, dan return_date dari tabel loan.

insert_loan_history: Setelah baris baru dimasukkan ke tabel loan, trigger ini akan memasukkan baris baru ke tabel loan_history dengan data dari tabel loan dan data tambahan seperti judul buku, nama anggota, dll. dari tabel terkait (melalui JOIN).

Hubungan Antar Tabel (Relational Diagram - Konseptual)

Secara umum, hubungan antar tabel dalam database ini dapat digambarkan sebagai berikut:

One-to-Many:

mst_gmd -> biblio (Satu GMD bisa dimiliki banyak bibliografi)

mst_publisher -> biblio (Satu Penerbit bisa menerbitkan banyak bibliografi)

mst_language -> biblio (Satu Bahasa bisa digunakan di banyak bibliografi)

mst_place -> biblio (Satu Tempat Terbit bisa menjadi tempat terbit banyak bibliografi)

mst_frequency -> biblio (Satu Frekuensi bisa digunakan oleh banyak bibliografi - terbitan berseri)

mst_content_type -> biblio

mst_media_type -> biblio

mst_carrier_type -> biblio

biblio -> item (Satu bibliografi bisa memiliki banyak item/salinan)

mst_coll_type -> item (Satu Jenis Koleksi bisa dimiliki banyak item)

mst_location -> item (Satu Lokasi bisa menyimpan banyak item)

mst_item_status -> item (Satu Status Item bisa diterapkan ke banyak item)

biblio -> biblio_attachment (Satu bibliografi bisa memiliki banyak file lampiran)

files -> biblio_attachment (Satu file bisa dilampirkan ke banyak bibliografi)

biblio -> biblio_author (Satu bibliografi bisa memiliki banyak pengarang)

mst_author -> biblio_author (Satu pengarang bisa mengarang banyak bibliografi)

biblio -> biblio_topic (Satu bibliografi bisa memiliki banyak topik)

mst_topic -> biblio_topic (Satu topik bisa terkait dengan banyak bibliografi)

biblio -> reserve (Satu bibliografi bisa direservasi banyak kali)

member -> reserve (Satu anggota bisa membuat banyak reservasi)

item -> reserve (Satu item bisa direservasi banyak kali)

biblio -> serial (Satu bibliografi bisa menjadi induk dari satu terbitan berseri)

mst_gmd -> serial (Satu GMD bisa digunakan untuk banyak terbitan berseri)

serial -> kardex (Satu terbitan berseri memiliki banyak entri kardeks)

item -> loan (Satu item bisa dipinjam banyak kali - history transaksi)

member -> loan (Satu anggota bisa melakukan banyak transaksi peminjaman)

mst_loan_rules -> loan (Satu aturan peminjaman bisa diterapkan pada banyak transaksi peminjaman)

member_type -> member (Satu jenis keanggotaan bisa dimiliki banyak anggota)

user_group -> user (Satu grup pengguna bisa memiliki banyak pengguna)

user -> backup_log (Satu pengguna bisa melakukan banyak backup)

user -> files (Satu pengguna bisa mengunggah banyak file)

user_group -> group_access (Satu grup pengguna memiliki banyak hak akses modul)

mst_module -> group_access (Satu modul bisa diakses oleh banyak grup pengguna)

stock_take -> stock_take_item (Satu sesi stock opname memiliki banyak item yang di-stock opname)

user -> system_log (Satu pengguna bisa menghasilkan banyak log sistem)

user_group -> user (Satu group bisa memiliki banyak user)

member -> visitor_count (Satu member bisa melakukan banyak kunjungan)

mst_visitor_room -> visitor_count (Satu ruangan bisa dikunjungi banyak visitor)

biblio -> comment (Satu bibliografi bisa memiliki banyak komentar)

member -> comment (Satu member bisa memberikan banyak komentar)

mst_topic -> mst_voc_ctrl (Satu topik bisa memiliki banyak relasi vocabulary control)

mst_relation_term -> mst_voc_ctrl (Satu istilah relasi bisa digunakan dalam banyak vocabulary control)

mst_topic -> mst_voc_ctrl (Satu topik bisa menjadi topik terkait dalam banyak vocabulary control)

biblio -> biblio_relation (Satu bibliografi bisa memiliki banyak relasi bibliografi lain)

biblio -> biblio_log (Satu bibliografi bisa memiliki banyak log perubahan)

user -> biblio_log (Satu user bisa membuat banyak log bibliografi)

file -> files_read (Satu file bisa dibaca banyak kali)

member -> files_read (Satu member bisa membaca banyak file)

user -> files_read (Satu user bisa membaca banyak file)

user -> plugins (Satu user bisa mengelola banyak plugin)

biblio -> biblio_mark (Satu bibliografi bisa ditandai banyak kali)

member -> biblio_mark (Satu member bisa menandai banyak bibliografi)

One-to-One (dengan tabel _custom):

biblio <-> biblio_custom

member <-> member_custom

Many-to-Many (melalui tabel penghubung):

biblio <-> mst_author (melalui biblio_author)

biblio <-> mst_topic (melalui biblio_topic)

Catatan untuk Rag Chatbot:

Fokus pada Tabel Utama: fokus utama mungkin pada tabel biblio, item, member, loan, dan tabel-tabel master (mst_*).

Hubungan Kunci: Pahami hubungan kunci (foreign keys) untuk menjawab pertanyaan yang melibatkan data dari beberapa tabel (misalnya "Buku apa saja yang ditulis oleh pengarang X?", "Siapa saja anggota dengan jenis keanggotaan Y?").

Deskripsi Kolom: Gunakan deskripsi kolom untuk memberikan informasi detail tentang data yang disimpan di setiap tabel.

Contoh Penggunaan: Berikan contoh bagaimana setiap tabel digunakan dalam konteks operasional perpustakaan untuk membantu chatbot memahami tujuan setiap tabel.

Kustomisasi: Jelaskan tabel biblio_custom dan member_custom sebagai tempat untuk menyimpan data tambahan yang spesifik untuk kebutuhan perpustakaan tertentu.
